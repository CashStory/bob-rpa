var bobRpa=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(c=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var c,a,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);o&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o)()(!1);r.push([e.i,"._1LkVct1GtgcFqk9frO6n8V {\n    display: none !important;\n    background-color: green !important;\n    color: green !important;\n}",""]),r.locals={"tc-splash":"_1LkVct1GtgcFqk9frO6n8V"},t.default=r},function(e,t){e.exports='<div id=cs_loader_wrap> <div id=cs_logo_wrap> <svg id=cs_logo_loading xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink id=svg version=1.1 width=400 height=400 viewBox="0, 0, 400,400"> <g id=svgg> <path id=path0 d="M229.809 140.032 C 228.312 142.614,219.827 157.206,210.953 172.458 C 202.079 187.710,194.656 200.547,194.457 200.984 C 194.127 201.707,230.479 266.171,232.157 267.840 C 232.930 268.608,308.409 268.726,309.116 267.961 C 309.409 267.643,316.740 255.166,325.406 240.234 C 334.072 225.303,342.603 210.607,344.362 207.578 L 347.562 202.070 342.214 192.734 C 339.272 187.600,330.830 172.852,323.454 159.961 C 316.077 147.070,309.798 136.260,309.499 135.938 C 309.024 135.424,304.202 135.351,270.744 135.344 L 232.531 135.336 229.809 140.032 M309.106 173.145 C 315.047 183.511,319.956 192.138,320.013 192.316 C 320.231 192.994,276.882 193.447,276.214 192.773 C 275.698 192.253,254.688 155.000,254.688 154.605 C 254.688 154.435,264.501 154.297,276.495 154.297 L 298.303 154.297 309.106 173.145 M242.541 171.975 C 244.992 176.324,249.715 184.690,253.037 190.565 C 256.359 196.441,259.155 201.544,259.250 201.907 C 259.347 202.280,257.154 206.451,254.187 211.536 C 242.603 231.391,238.691 238.166,238.450 238.794 C 237.968 240.052,237.520 239.357,227.115 221.191 C 221.362 211.147,216.485 202.647,216.276 202.302 C 215.936 201.739,237.205 164.129,237.891 164.082 C 237.998 164.074,240.091 167.626,242.541 171.975 M318.804 213.770 C 318.158 214.897,313.232 223.379,307.857 232.617 L 298.085 249.414 276.289 249.278 C 264.301 249.203,254.448 249.100,254.395 249.050 C 254.342 249.000,255.172 247.480,256.240 245.671 C 257.308 243.863,262.115 235.615,266.923 227.344 L 275.664 212.305 282.851 212.096 C 286.805 211.981,296.776 211.849,305.009 211.803 L 319.979 211.719 318.804 213.770 " stroke=none fill=#3edb7c fill-rule=evenodd /> <path id=path1 d="M129.149 77.832 C 128.842 78.315,117.564 97.783,104.087 121.094 C 90.609 144.404,76.323 169.102,72.339 175.977 C 68.355 182.852,63.365 191.479,61.250 195.149 L 57.405 201.822 76.871 235.579 C 87.577 254.145,103.797 282.298,112.915 298.141 L 129.492 326.945 201.747 326.851 L 274.001 326.758 290.929 297.907 C 300.240 282.038,307.801 268.999,307.732 268.930 C 307.663 268.861,302.986 268.748,297.339 268.679 L 287.071 268.555 275.268 288.672 L 263.465 308.789 226.752 308.911 C 206.560 308.979,178.755 308.914,164.963 308.767 L 139.888 308.500 109.171 255.198 C 92.277 225.881,78.542 201.688,78.650 201.436 C 78.758 201.183,92.640 177.158,109.500 148.047 L 140.154 95.117 201.815 95.117 L 263.477 95.117 264.585 96.875 C 265.195 97.842,270.469 106.807,276.304 116.797 L 286.914 134.961 297.363 135.065 C 303.110 135.122,307.813 135.066,307.812 134.941 C 307.812 134.815,300.221 121.717,290.942 105.833 L 274.072 76.953 201.889 76.953 L 129.706 76.953 129.149 77.832 " stroke=none fill=#3c3c3c fill-rule=evenodd /> </g> </svg> <div id=cs_spinner_loading></div> </div> </div>'},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o)()(!1);r.push([e.i,"#_1TGXtk7JIzlsvFOBXZk3-e {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    background-color: white;\n    z-index: 4210;\n}\n\n#_3bUtKZR2In9vGXHuwEoYis {\n    display: flex;\n    width: 150px;\n    height: 150px;\n    background: white;\n    border-radius: 50%;\n    margin: 0 auto;\n}\n\n#_2SjM69PtHusQN8WukqmP1b {\n    display: flex;\n    height: 120px;\n    margin: auto;\n    opacity: 0.7;\n}\n\n#_1ImhqFGqQClVDQMpWyY141 {\n    width: 150px;\n    height: 150px;\n    position: absolute;\n    border-top: 3px solid #3edb7c;\n    border-right: 3px solid rgba(0, 0, 0, 0);\n    border-left: 3px solid rgba(0, 0, 0, 0);\n    border-radius: 50%;\n    animation: _2mQUKB2SkvBlfheOUbPi3 1s ease-in-out infinite;\n}\n\n@keyframes _2mQUKB2SkvBlfheOUbPi3 {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}",""]),r.locals={cs_loader_wrap:"_1TGXtk7JIzlsvFOBXZk3-e",cs_logo_wrap:"_3bUtKZR2In9vGXHuwEoYis",cs_logo_loading:"_2SjM69PtHusQN8WukqmP1b",cs_spinner_loading:"_1ImhqFGqQClVDQMpWyY141","spin-bot":"_2mQUKB2SkvBlfheOUbPi3"},t.default=r},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o)()(!1);r.push([e.i,":root {\n    --bg-color: #f2f3f5 !important;\n    --color: #57595A !important;\n    --emphasis: #466372 !important;\n    --primary: #40dc7e !important;\n    --emphasis-primary: #c5e2f1 !important;\n    --emphasis-secondary: #466372 !important;\n    --light: #909090 !important;\n    --super-light: #f9fafc !important;\n    --error: #f26d6d !important;\n    --success: #63d9b1 !important;\n    --dark: #313538 !important;\n}",""]),t.default=r},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o)()(!1);r.push([e.i,"",""]),t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"load",(function(){return oe}));var o=()=>{const e=[];let t=!1;return{destroy(n){t=!0,e.forEach(e=>{e(n)})},onDestroy(n){t?n():e.push(n)}}};var r,i,c,a,s,l=e=>(...t)=>{e&&console.log("[Penpal]",...t)};!function(e){e.Call="call",e.Reply="reply",e.Syn="syn",e.SynAck="synAck",e.Ack="ack"}(r||(r={})),function(e){e.Fulfilled="fulfilled",e.Rejected="rejected"}(i||(i={})),function(e){e.ConnectionDestroyed="ConnectionDestroyed",e.ConnectionTimeout="ConnectionTimeout",e.NotInIframe="NotInIframe",e.NoIframeSrc="NoIframeSrc"}(c||(c={})),function(e){e.DataCloneError="DataCloneError"}(a||(a={})),function(e){e.Message="message"}(s||(s={}));const u=({name:e,message:t,stack:n})=>({name:e,message:t,stack:n});var f=(e,t,n)=>{const{localName:o,local:c,remote:l,originForSending:f,originForReceiving:p}=e;let d=!1;const h=e=>{if(e.source!==l||e.data.penpal!==r.Call)return;if(e.origin!==p)return void n(`${o} received message from origin ${e.origin} which did not match expected origin ${p}`);const c=e.data,{methodName:s,args:h,id:m}=c;n(`${o}: Received ${s}() call`);const y=e=>t=>{if(n(`${o}: Sending ${s}() reply`),d)return void n(`${o}: Unable to send ${s}() reply due to destroyed connection`);const c={penpal:r.Reply,id:m,resolution:e,returnValue:t};e===i.Rejected&&t instanceof Error&&(c.returnValue=u(t),c.returnValueIsError=!0);try{l.postMessage(c,f)}catch(e){if(e.name===a.DataCloneError){const t={penpal:r.Reply,id:m,resolution:i.Rejected,returnValue:u(e),returnValueIsError:!0};l.postMessage(t,f)}throw e}};new Promise(e=>e(t[s].apply(t,h))).then(y(i.Fulfilled),y(i.Rejected))};return c.addEventListener(s.Message,h),()=>{d=!0,c.removeEventListener(s.Message,h)}};let p=0;var d=(e,t,n,o,a)=>{const{localName:l,local:u,remote:f,originForSending:d,originForReceiving:h}=t;let m=!1;a(l+": Connecting call sender");const y=e=>(...t)=>{let n;a(`${l}: Sending ${e}() call`);try{f.closed&&(n=!0)}catch(e){n=!0}if(n&&o(),m){const t=new Error(`Unable to send ${e}() call due to destroyed connection`);throw t.code=c.ConnectionDestroyed,t}return new Promise((n,o)=>{const c=++p,m=t=>{if(t.source!==f||t.data.penpal!==r.Reply||t.data.id!==c)return;if(t.origin!==h)return void a(`${l} received message from origin ${t.origin} which did not match expected origin ${h}`);const p=t.data;a(`${l}: Received ${e}() reply`),u.removeEventListener(s.Message,m);let d=p.returnValue;p.returnValueIsError&&(d=(e=>{const t=new Error;return Object.keys(e).forEach(n=>t[n]=e[n]),t})(d)),(p.resolution===i.Fulfilled?n:o)(d)};u.addEventListener(s.Message,m);const y={penpal:r.Call,id:c,methodName:e,args:t};f.postMessage(y,d)})};return n.reduce((e,t)=>(e[t]=y(t),e),e),()=>{m=!0}};var h=(e,t)=>{let n;return void 0!==e&&(n=window.setTimeout(()=>{const n=new Error(`Connection timed out after ${e}ms`);n.code=c.ConnectionTimeout,t(n)},e)),()=>{clearTimeout(n)}};var m=(e={})=>{const{parentOrigin:t="*",methods:n={},timeout:i,debug:a=!1}=e,u=l(a),p=o(),{destroy:m,onDestroy:y}=p;(()=>{if(window===window.top){const e=new Error("connectToParent() must be called within an iframe");throw e.code=c.NotInIframe,e}})();const g=((e,t,n,o)=>{const{destroy:i,onDestroy:c}=n;return n=>{if(!(e instanceof RegExp?e.test(n.origin):"*"===e||e===n.origin))return void o(`Child: Handshake - Received SYN-ACK from origin ${n.origin} which did not match expected origin ${e}`);o("Child: Handshake - Received SYN-ACK, responding with ACK");const a="null"===n.origin?"*":n.origin,s={penpal:r.Ack,methodNames:Object.keys(t)};window.parent.postMessage(s,a);const l={localName:"Child",local:window,remote:window.parent,originForSending:a,originForReceiving:n.origin},u=f(l,t,o);c(u);const p={},h=d(p,l,n.data.methodNames,i,o);return c(h),p}})(t,n,p,u);return{promise:new Promise((e,n)=>{const o=h(i,m),a=t=>{if((()=>{try{clearTimeout()}catch(e){return!1}return!0})()&&t.source===parent&&t.data&&t.data.penpal===r.SynAck){const n=g(t);n&&(window.removeEventListener(s.Message,a),o(),e(n))}};window.addEventListener(s.Message,a),(()=>{u("Child: Handshake - Sending SYN");const e={penpal:r.Syn},n=t instanceof RegExp?"*":t;window.parent.postMessage(e,n)})(),y(e=>{window.removeEventListener(s.Message,a),e||((e=new Error("Connection destroyed")).code=c.ConnectionDestroyed),n(e)})}),destroy(){m()}}};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(2),w=n(3),C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";y(this,e),b(this,"version","1.0.0"),b(this,"iFrameDetected",!1),b(this,"loginFormClass","login-form"),b(this,"csLoader",null),b(this,"cssElem",null),b(this,"htmlElem",null),b(this,"bodyList",null),b(this,"bodyObserver",null),b(this,"parent",null),b(this,"loginRetry",null),b(this,"oldHref",null),b(this,"cssPlus",""),b(this,"htmlPlus",""),b(this,"htmlInject",[]),b(this,"cssInject",[]),b(this,"displayElems",[]),b(this,"cssBase",w),b(this,"htmlBase",v),b(this,"watchFunctions",[]),b(this,"mutationConfig",{childList:!0,subtree:!0}),this.iFrameDetected=!(window===window.parent),this.cssElem=document.createElement("style"),this.htmlElem=document.createElement("div"),this.csLoader=document.getElementById("cs_loader_wrap"),this.cssPlus=n,this.htmlPlus=o,document.head.appendChild(this.cssElem),document.body.appendChild(this.htmlElem),this.watchFunctions.push(this.addAnalytics),this.watchFunctions.push(this.setCSCSS),this.watchFunctions.push(this.setCSHTML),window.addEventListener("load",(function(){t.bodyList=document.querySelector("body"),t.bodyList&&(t.bodyObserver=new MutationObserver((function(){t.watchFunctions.forEach((function(e){e()}))})),t.bodyObserver.observe(t.bodyList,t.mutationConfig)),t.iFrameDetected?t.initPenpal():t.switchCSLoader("off")}))}var t,n,o;return t=e,(n=[{key:"initPenpal",value:function(){var e=this;this.oldHref=document.location.href,console.log("==> bob-rpa iframe detected");var t=this;m({debug:!0,timeout:18e4,methods:{hideElements:function(e){e.forEach((function(e){var n=t.displayElems.findIndex((function(t){return t.name===e}));n>-1?t.displayElems[n]={name:e,display:"none"}:t.displayElems.push({name:e,display:"none"})})),t.setElementsDisplay()},showElements:function(e){e.forEach((function(e){var n=t.displayElems.findIndex((function(t){return t.name===e}));n>-1?t.displayElems[n]={name:e,display:""}:t.displayElems.push({name:e,display:""})})),t.setElementsDisplay()},switchCSLoader:function(e){t.switchCSLoader(e)},injectCSHTML:function(e){t.htmlInject.push(e),t.setCSHTML()},removeCSHTML:function(e){var n=t.htmlInject.findIndex((function(t){return t===e}));n>-1&&(t.cssInject.splice(n,1),t.setCSHTML())},injectCSCSS:function(e){t.cssInject.push(e),t.setCSCSS()},removeCSCSS:function(e){var n=t.cssInject.findIndex((function(t){return t===e}));n>-1&&(t.cssInject.splice(n,1),t.setCSCSS())}}}).promise.then((function(t){e.parent=t,t&&(console.log("==> bob-rpa connected !"),e.watchFunctions.push(e.applyZoom),e.initAutoLogin())})).catch((function(){console.log("==> bob-rpa iframe timeout"),e.switchCSLoader("off")}))}},{key:"switchCSLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"off",t=document.getElementById("cs_loader_wrap");t&&"off"==e&&"block"===t.style.display?t.style.display="none":t&&"on"==e&&"none"===t.style.display&&(t.style.display="block")}},{key:"setCSCSS",value:function(){if(this.cssElem){var e="".concat(this.cssBase,"\n\n").concat(this.cssPlus,"\n\n").concat(this.cssInject.join("\n"),"\n\n/* Cashstory ").concat(this.version," */");e!==this.cssElem.innerHTML&&(this.cssElem.innerHTML=e)}}},{key:"setCSHTML",value:function(){if(this.htmlElem){var e="".concat(this.htmlBase,"\n\n").concat(this.htmlPlus,"\n\n").concat(this.htmlInject.join("\n"),"\n\n/* Cashstory ").concat(this.version," */");e!==this.htmlElem.innerHTML&&(this.htmlElem.innerHTML=e)}}},{key:"checkLogin",value:function(){!this.loginRetry&&this.isLoginWrapperPresent()?(this.switchCSLoader("on"),this.needLogin(),this.loginRetry=setTimeout(this.checkLogin,1500)):this.loginRetry&&(console.log("==> bob-rpa mutation but not login wraper present",document.location.href),clearTimeout(this.loginRetry),this.loginRetry=null,this.switchCSLoader("off"))}},{key:"addAnalytics",value:function(){this.parent&&this.oldHref!=document.location.href&&(this.oldHref=document.location.href,console.log("==> bob-rpa url change !!"),this.parent.urlChangeEvent(this.oldHref))}},{key:"applyZoom",value:function(){this.parent&&this.parent.getZoomPercentage().then((function(e){"zoom"in document.body.style&&(document.body.style.zoom=e+"%")}))}},{key:"setElementsDisplay",value:function(){this.displayElems.forEach((function(e){var t=document.getElementsByClassName(e.name)[0];t&&(t.style.display=e.display)}))}},{key:"getFormElems",value:function(e){var t=document.getElementById(this.loginFormClass);return t&&t.getElementsByTagName(e)?Array.prototype.slice.call(t.getElementsByTagName(e)):[]}},{key:"getFormInputElem",value:function(e){var t=null;return this.getFormElems("input").forEach((function(n){n.type===e&&(t=n)})),t}},{key:"findButton",value:function(e){for(var t=document.getElementsByTagName("button"),n=null,o=0;o<t.length;o++)if(t[o].textContent==e){n=t[o];break}return n}},{key:"setNativeValue",value:function(e,t){var n,o,r=null===(n=Object.getOwnPropertyDescriptor(e,"value"))||void 0===n?void 0:n.set,i=Object.getPrototypeOf(e),c=null===(o=Object.getOwnPropertyDescriptor(i,"value"))||void 0===o?void 0:o.set,a=new Event("input",{bubbles:!0});r&&c&&r!==c?c.call(e,t):r?r.call(e,t):e.value=t,e.dispatchEvent(a)}},{key:"hiddePass",value:function(e){return Object.assign(e,{pwd:"****"})}},{key:"deleteCookie",value:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"cleanLogin",value:function(){var e=this;this.parent&&this.parent.getName().then((function(t){console.log("==> bob-rpa current name",t);var n=localStorage.getItem("cs_child_name");n&&t===n||e.logoutAction(),localStorage.setItem("cs_child_name",t)}))}},{key:"initAutoLogin",value:function(){var e=this;this.parent&&this.parent.needLogin().then((function(t){t?(console.log("==> bob-rpa need_login confirmed"),e.watchFunctions.push(e.checkLogin),e.cleanLogin(),e.checkLogin()):e.switchCSLoader("off")}))}},{key:"needLogin",value:function(){var e=this;this.parent&&this.isLoginWrapperPresent()&&this.parent.needLogin().then((function(t){if(!t)return console.log("==> bob-rpa no login from parent"),void e.switchCSLoader("off");console.log("==> bob-rpa need_login",e.hiddePass(t)),e.loginAction(t)}))}},{key:"isLoginWrapperPresent",value:function(){return console.error("==> bob-rpa no loginAction configuration"),!1}},{key:"logoutAction",value:function(){console.error("==> bob-rpa no logoutAction configuration")}},{key:"loginAction",value:function(e){console.error("==> bob-rpa no loginAction configuration"),e&&console.log("data",e)}}])&&g(t.prototype,n),o&&g(t,o),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=I(e);if(t){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=n(1),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,o,r=L(i);function i(){return S(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"isLoginWrapperPresent",value:function(){return console.error("==> bob-rpa isLoginWrapperPresent"),!!(document.getElementsByClassName("login-wrapper")&&document.getElementsByClassName("login-wrapper").length>0)}},{key:"logoutAction",value:function(){console.error("==> bob-rpa logoutAction"),localStorage.setItem("token",""),localStorage.setItem("embed-token",""),localStorage.setItem("user",""),localStorage.setItem("userId",""),localStorage.setItem("currentUser",""),window.location.href="/logout"}},{key:"loginAction",value:function(e){if(console.error("==> bob-rpa loginAction"),e){console.log("data",e);var t=document.getElementById("username_input"),n=document.getElementById("password_input"),o=document.getElementById("login_submit");o&&t&&n?(console.log("==> bob-rpa login detected"),this.setNativeValue(t,e.login),this.setNativeValue(n,e.pwd),setTimeout((function(){try{o.click(),console.log("==> bob-rpa login submit")}catch(e){console.error("==> bob-rpa login fail submit",o)}}),500)):console.error("==> bob-rpa fail to get, buttonConnect, loginInput or pwdInput",o,t,n)}}}])&&k(t.prototype,n),o&&k(t,o),i}(C);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(t){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=n(4),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,o,r=B(i);function i(){return T(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"isLoginWrapperPresent",value:function(){return!!(document.getElementsByClassName("component_page_connect")&&document.getElementsByClassName("component_page_connect").length>0)}},{key:"logoutAction",value:function(){window.location.href="/logout"}},{key:"changeTab",value:function(e){var t=this;return new Promise((function(n,o){var r=t.findButton(e);r?(r.click(),setTimeout((function(){n()}),100)):o("tab not found")}))}},{key:"checkAdvancedBox",value:function(){return new Promise((function(e,t){var n=document.querySelectorAll("input[type=checkbox]")[0];if(n){var o=new Event("input",{bubbles:!0});n.click(),n.dispatchEvent(o),setTimeout((function(){e()}),100)}else t("button not found")}))}},{key:"ftpLogin",value:function(e,t,n,o,r){var i=this,c=this.changeTab(e),a=document.querySelectorAll("input[type=checkbox]")[0];n&&a&&!a.checked&&(c=c.then(this.checkAdvancedBox)),c.then((function(){var e,c=document.getElementsByName("hostname")[0],a=document.getElementsByName("username")[0],s=document.getElementsByName("password")[0];n&&(e=document.getElementsByName("port")[0]);var l=i.findButton("CONNECT");l&&a&&s&&c?(console.log("==> bob-rpa login detected"),i.setNativeValue(c,t),i.setNativeValue(a,o),n&&e&&i.setNativeValue(e,n),i.setNativeValue(s,r),setTimeout((function(){try{l.click()}catch(e){console.error("==> bob-rpa fail submit",l)}}),100)):console.error("==> bob-rpa fail to get buttonConnect, loginInput, pwdInput, hostInput or portInput",l,a,s,c,e)})).catch((function(e){console.error(e)}))}},{key:"gitLogin",value:function(e,t,n){var o=this;this.changeTab("GIT").then(this.checkAdvancedBox).then((function(){var r=document.getElementsByName("repo")[0],i=document.getElementsByName("username")[0],c=document.getElementsByName("password")[0],a=o.findButton("CONNECT");a&&i&&c&&r?(o.setNativeValue(r,e),o.setNativeValue(i,t),o.setNativeValue(c,n),console.log("==> bob-rpa login filled"),setTimeout((function(){try{a.click()}catch(e){console.error("==> bob-rpa fail submit",a)}}),100)):console.error("==> bob-rpa fail to get buttonConnect, loginInput, pwdInput, repoInput",a,i,c,r)})).catch((function(e){console.error(e)}))}},{key:"loginAction",value:function(e){if(e.tab&&e.host&&e.port){var t=e.tab;"FTPS"===t||"FTP"===t||"SFTP"===t?this.ftpLogin(t,e.host,e.port,e.login,e.pwd):"GIT"===t&&this.gitLogin(e.host,e.login,e.pwd)}else console.error("missing tab, port or host")}}])&&N(t.prototype,n),o&&N(t,o),i}(C);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=G(e);if(t){var r=G(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=n(5),K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,o,r=W(i);function i(){return H(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"isLoginWrapperPresent",value:function(){return console.error("==> bob-rpa no loginAction configuration"),!!document.getElementById("login-main")}},{key:"logoutAction",value:function(){console.error("==> bob-rpa no logoutAction configuration"),localStorage.setItem("jupyterhub-hub-login",""),localStorage.setItem("jupyterhub-session-id",""),localStorage.setItem("jupyterhub-user-bobcashstory",""),window.location.href="/logout"}},{key:"loginAction",value:function(e){var t=document.getElementById("username_input"),n=document.getElementById("password_input"),o=document.getElementById("login_submit");o&&t&&n?(this.setNativeValue(t,e.login),this.setNativeValue(n,e.pwd),console.log("==> bob-rpa login filled"),setTimeout((function(){try{o.click(),console.log("==> bob-rpa login submit")}catch(e){console.error("==> bob-rpa login fail submit",o)}}),500)):console.error("==> bob-rpa fail to get, buttonConnect, loginInput or pwdInput",o,t,n)}}])&&$(t.prototype,n),o&&$(t,o),i}(C);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=te(e);if(t){var r=te(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,o,r=J(i);function i(){return Z(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"isLoginWrapperPresent",value:function(){return console.error("==> bob-rpa no loginAction configuration"),!1}},{key:"logoutAction",value:function(){console.error("==> bob-rpa no logoutAction configuration"),localStorage.setItem("jupyterhub-hub-login",""),localStorage.setItem("jupyterhub-session-id",""),localStorage.setItem("jupyterhub-user-bobcashstory",""),window.location.href="/logout"}},{key:"loginAction",value:function(e){if(console.error("==> bob-rpa no loginAction configuration"),e){console.log("data",e);var t=document.getElementById("username_input"),n=document.getElementById("password_input"),o=document.getElementById("login_submit");o&&t&&n?(console.log("==> bob-rpa login detected"),this.setNativeValue(t,e.login),this.setNativeValue(n,e.pwd),setTimeout((function(){try{o.click(),console.log("==> bob-rpa login submit")}catch(e){console.error("==> bob-rpa login fail submit",o)}}),500)):console.error("==> bob-rpa fail to get, buttonConnect, loginInput or pwdInput",o,t,n)}}}])&&X(t.prototype,n),o&&X(t,o),i}(C),oe=function(e){if(console.log("load",e),"toucan"===e)return new P(O);if("filestash"===e)return new D(F);if("jupyter"===e)return new K(Q);if("wekan"===e)return new ne;throw new Error("Unknow mode")}}]);